<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xây dựng lớp mô tả điện thoại</title>
</head>
<body>
<script>
    class MobiPhone {
        constructor(battery, draft, inbox, outbox, status) {
            this.battery = battery;
            this.draft = draft
            this.inbox = inbox;
            this.outbox = outbox;
            this.status = status;
        }

        checkStatus() {
            if (this.status) {
                document.write("The mobile is ON");
            } else {
                document.write("The mobile is OFF");
            }
            this.battery--;
        }

        setStatus(status) {
            this.status = status;
            this.battery--;
        }

        getStatus() {
            this.battery--;
            return this.status;
        }

        switchStatus() {
            this.battery--;
            this.status = !this.status;
        }

        setBattery( battery) {
            this.battery = battery;
        }

        setMessageDraft(messageDraft) {
            if (this.status && this.battery > 0) {
                this.draft.push(messageDraft);
                this.battery--;
            } else {
                document.write("The mobile is OFF or battery low")
            }
        }

        sendMessage(toMobiPhone, message) {
            if (this.status && this.battery > 0) {
                toMobiPhone.inbox.push(message);
                this.outbox.push(message);
                 // this.draft.pop();
                this.battery--;
            } else {
                document.write("The mobile is OFF or battery low");
            }
        }

        showInbox() {
            if (this.status && this.battery > 0) {
                document.write(this.inbox.join(","));
                this.battery--;
            } else {
                document.write("The mobile is OFF or battery low");
            }
        }

        showOutbox() {
            if (this.status && this.battery > 0) {
                document.write(this.outbox.join(","));
                this.battery--;
            } else {
                document.write("The mobile is OFF or..");
            }
        }
    }

    let nokia = new MobiPhone(50, [], [], [], true);
    let iphone = new MobiPhone(70, [], [], [], true);

    nokia.setMessageDraft("Xin Chào !");
    nokia.sendMessage(iphone, nokia.draft.pop());
    iphone.showInbox();
    nokia.showOutbox();
</script>
</body>
</html>
