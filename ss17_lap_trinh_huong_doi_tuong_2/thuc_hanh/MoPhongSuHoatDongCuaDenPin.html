<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xây dựng lớp mô phỏng sự hoạt động của đèn pin</title>
</head>
<body>
<script>
let Pin = function () {
    this.setNangLuong = function (nangLuong) {
        this.nangLuong = nangLuong;
    }
    this.getNangLuong = function () {
        return this.nangLuong;
    }

    this.giamNangLuong = function () {
        if(this.nangLuong > 0 ){
            this.nangLuong--;
        }
    }
}

let DenPin = function () {
    this.setPin = function (pin) {
        this.pin = pin;
    }
    this.getThongTinPin = function () {
        return this.pin.getNangLuong();
    }

    this.den = function () {
        if(this.trangthai){
            document.write("-Đã bật đèn pin <br>");
            this.pin.giamNangLuong();
        }else{
            document.write("-Chưa bật đèn pin <br>");
        }
    }

    this.bat = function () {
        this.trangthai = true;
    }

    this.tat = function () {
        this.trangthai  = false;
    }
}
    let pin = new Pin();
    pin.setNangLuong(89);
    let denPin = new DenPin();
    denPin.setPin(pin);
    document.write("Thông tin pin: "+denPin.getThongTinPin()+"<br>");
    denPin.den();
    document.write("<b>Bật đèn</b><br>");
    denPin.bat();
    denPin.den();
    document.write("Thông tin pin: "+denPin.getThongTinPin()+"<br>");
    document.write("<b>Tắt đèn</b> <br>");
    denPin.tat();
    denPin.den();
    document.write("Thông tin pin: "+denPin.getThongTinPin()+"<br>");

</script>
</body>
</html>